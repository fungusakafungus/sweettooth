{% extends "base.html" %}
{% block title %}{{ extension.name }} - {{ super() }}{% endblock %}

{% block extra_messages %}
  {{ super() }}
  {% if is_rejected %}
    <p class="message error">
      This version of {{ extension.name }} was rejected.
      <a href="{{ url('extensions-detail', pk=extension.pk) }}">View the latest accepted version.</a>
    </p>
  {% else %} {% if old_version %}
    <p class="message warning">
      You are viewing an old version of <a href="{{ url('extensions-detail', pk=extension.pk) }}">{{ extension.name }}</a>
    </p>
  {% endif %} {% endif %}
{% endblock %}

{% block body %}
{% block extra_body_header %}
{% endblock %}

    <div class="extension"
         data-uuid="{{ extension.uuid }}"
         data-sv="{{ version.shell_versions_json }}"
         data-pk="{{ version.pk }}">
      <div class="switch{% if is_rejected %} insensitive{% endif %}"></div>

      {% block icon %}
      <img src="{{ extension.icon.url }}" class="icon">
      {% endblock icon %}

      {% if extension.screenshot %}
      {% block screenshot %}
      <a href="{{ extension.screenshot.url }}" class="screenshot">
        <img src="{{ thumbnail(extension.screenshot, '300x200').url }}" />
      </a>
      {% endblock screenshot %}
      {% else %}
      {% block no_screenshot %}
      {% endblock %}
      {% endif %}

      <h3 class="extension-name" id="extension_name">{{ extension.name }}</h3>
      <span class="author">by <a href="{{ url('auth-profile', user=extension.creator.username) }}">{{ extension.creator }}</a></span>
      <p class="description" id="extension_description">
        {{ extension.description }}
      </p>

      <dl>
      {% if extension.url %}
        <dt>Extension Homepage</dt>
        <dd><a href="{{ extension.url }}" id="extension_url">{{ extension.url }}</a></dd>
      {% endif %}
      </dl>

      <hr style="clear: both;">

      {% block comments %}
      {% include "extensions/comments.html" %}
      {% endblock comments %}

      {% block extra %}
      {% endblock %}
</div>
{% endblock %}

{% block navclass %}main{% endblock %}
